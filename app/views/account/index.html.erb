
<div class="account-details-page">
  <div class="container mt-5 text-center">
    <h1 class="mb-4">Account Details</h1>
    
    <div class="row justify-content-center">
      <div class="col-md-6 d-flex flex-column align-items-center">
        <% if @user.avatar.attached? %>
          <%= image_tag @user.avatar, class: "avatar img-fluid rounded-circle mb-3", style: "width: 100px; height: 100px;" %>
        <% else %>
          <img src="default_avatar.png" class="avatar img-fluid rounded-circle mb-3" style="width: 100px; height: 100px;" alt="Default Avatar">
        <% end %>

        <%= form_for @user, url: update_address_path, method: :patch, html: { class: 'form-horizontal w-100' } do |f| %>
          <div class="form-group text-left">
            <%= f.label :address, class: 'control-label' %>
            <%= f.text_field :address, class: 'form-control' %>
          </div>
          
          <div class="form-group text-left">
            <%= f.label :city, class: 'control-label' %>
            <%= f.text_field :city, class: 'form-control' %>
          </div>
          
          <div class="form-group text-left">
            <%= f.label :province_id, class: 'control-label' %>
            <%= f.collection_select :province_id, Province.all, :id, :name, { prompt: "Select province" }, class: 'form-control' %>
          </div>
          
          <div class="form-group text-left">
            <%= f.label :avatar, class: 'control-label' %>
            <%= f.file_field :avatar, class: 'form-control-file' %>
          </div>
          
          <!-- Button container with added custom styles for uniformity -->
          <div class="form-group d-flex justify-content-center">
            <%= f.submit 'Update', class: 'btn btn-primary text-white flex-fill mx-1 btn-uniform' %>
            <%= link_to 'View My Orders', my_orders_path, class: 'btn btn-secondary text-white flex-fill mx-1 btn-uniform' %>
            
            <% if user_signed_in? %>
              <%= link_to "Sign out", destroy_user_session_path, method: :delete, class: "btn btn-danger text-white flex-fill mx-1 btn-uniform" %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
